<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>hello-wasm example</title>
</head>

<body>
<textarea id="editor" rows="30" cols="80">
// You can edit this code!
// Click here and start typing.
package main

import "fmt"

func main() {
    fmt.Println("Hello, 世界")
}
</textarea>

<div>
    <button id="run">Run</button>
</div>

Compile Error:
<pre id="compile_err"></pre>

stderr:
<pre id="err"></pre>

stdout:
<pre id="out"></pre>

    <script type="module">
        import init, { run_zip_and_string } from "./pkg/goscript_playgound.js";

        await init();
        const res = await fetch('./std.zip');
        const arrayBuffer = await res.arrayBuffer();
        const zip = new Uint8Array(arrayBuffer);

        document.getElementById('run').addEventListener('click', async() => {
            const code = document.getElementById('editor').value;
            console.log(code);
            const result = await run_zip_and_string(zip, code);
            console.log(result);
            document.getElementById('compile_err').textContent = result.compile_err;
            document.getElementById('err').textContent = result.err;
            document.getElementById('out').textContent = result.out;
        });
    </script>
</body>

</html>