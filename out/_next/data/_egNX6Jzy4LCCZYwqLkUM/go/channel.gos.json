{"pageProps":{"codeData":{"id":"channel.gos","codeContent":"package main\n\nimport \"fmt\"\n\nfunc sum(s []int, c chan int) {\n\tsum := 0\n\tfor _, v := range s {\n\t\tsum += v\n\t}\n\tc <- sum // send sum to c\n\tfmt.Println(\"c len: \", len(c))\n}\n\nfunc testWithCap(capacity int) {\n\ts := []int{7, 2, 8, -9, 4, 0}\n\n\tc := make(chan int, capacity)\n\tgo sum(s[:len(s)/2], c)\n\tgo sum(s[len(s)/2:], c)\n\t\n\tx, y := <-c, <-c // receive from c\n\n\tassert(x + y == 12)\n\tfmt.Println(x, y, x+y)\n\n\t\n\tgo func() {c <- 888}()\n\tnn, ok := <- c\n\tassert(nn == 888)\n\tassert(ok)\n\n\tclose(c)\n\tassert(<-c == 0)\n\tfmt.Println(<-c)\n\tm := <- c\n\tassert(m == 0)\n\tn, ok := <- c\n\tassert(n == 0)\n\tassert(!ok)\n\n\tfmt.Println(m, n, nn)\n\n\tassert(cap(c) == capacity)\n}\n\n\nfunc main() {\n\ttestWithCap(0)\n\ttestWithCap(1)\n\ttestWithCap(2)\n\ttestWithCap(3)\n\ttestWithCap(999)\n}\n"},"codeIds":[{"params":{"id":"array.gos"}},{"params":{"id":"async.gos"}},{"params":{"id":"basictypes.gos"}},{"params":{"id":"blankid.gos"}},{"params":{"id":"bytes.gos"}},{"params":{"id":"case1.gos"}},{"params":{"id":"channel.gos"}},{"params":{"id":"closure1.gos"}},{"params":{"id":"closure2.gos"}},{"params":{"id":"closure3.gos"}},{"params":{"id":"closure4.gos"}},{"params":{"id":"complex.gos"}},{"params":{"id":"composite.gos"}},{"params":{"id":"conversion.gos"}},{"params":{"id":"declare.gos"}},{"params":{"id":"defer.gos"}},{"params":{"id":"display.gos"}},{"params":{"id":"fmt.gos"}},{"params":{"id":"for.gos"}},{"params":{"id":"func1.gos"}},{"params":{"id":"goto.gos"}},{"params":{"id":"if.gos"}},{"params":{"id":"init_func.gos"}},{"params":{"id":"initorder.gos"}},{"params":{"id":"interface1.gos"}},{"params":{"id":"interface2.gos"}},{"params":{"id":"map1.gos"}},{"params":{"id":"math.gos"}},{"params":{"id":"nil.gos"}},{"params":{"id":"operations.gos"}},{"params":{"id":"path.gos"}},{"params":{"id":"pkg.gos"}},{"params":{"id":"pointer.gos"}},{"params":{"id":"recover.gos"}},{"params":{"id":"reflect.gos"}},{"params":{"id":"select.gos"}},{"params":{"id":"slice1.gos"}},{"params":{"id":"sort.gos"}},{"params":{"id":"strconv.gos"}},{"params":{"id":"strings.gos"}},{"params":{"id":"switch.gos"}},{"params":{"id":"sync_mutex.gos"}},{"params":{"id":"sync_rwmutex.gos"}},{"params":{"id":"time.gos"}},{"params":{"id":"type1.gos"}},{"params":{"id":"typeswitch.gos"}}]},"__N_SSG":true}