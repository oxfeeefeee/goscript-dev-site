{"pageProps":{"codeData":{"id":"select.gos","codeContent":"package main\n\nimport \"fmt\"\n\nfunc fibonacci(c, quit chan int) {\n\tx, y := 0, 1\n\tvar s = make([]int, 2)\n\tfor {\n\t\tselect {\n\t\tcase c <- x:\n\t\t\tx, y = y, x+y\n\t\tcase s[0] = <-quit:\n\t\t\tassert(s[0] == 999)\n\t\t\tfmt.Println(\"quit æ‹‰\", s)\n\t\t\treturn\n\t\t}\n\t}\n}\n\nfunc main() {\n\tc := make(chan int)\n\tquit := make(chan int)\n\tgo func() {\n\t\tfor i := 0; i < 12; i++ {\n\t\t\tfmt.Println(<-c)\n\t\t}\n\t\tquit <- 999\n\t}()\n\t\n\tfibonacci(c, quit)\n\n\n\tvar f = false\n\n\tgo func() {\n\t\tquit <- 888\n\t}()\n\n\tselect {\n\tcase v, ok := <- c:\n\t\tassert(f)\n\t\tfmt.Println(\"c recv:\", v, ok)\n\tcase v, ok := <-quit:\n\t\tassert(v == 888)\n\t\tassert(ok)\n\t\tfmt.Println(\"quit recv:\", v, ok)\n\t}\t\n\n\tgo func() {\n\t\tclose(c)\n\t}()\n\n\tselect {\n\tcase v, ok := <- c:\n\t\tassert(v == 0)\n\t\tassert(!ok)\n\t\tfmt.Println(\"c recv:\", v, ok)\n\t\tbreak\n\t\tassert(f)\n\tcase v, ok := <-quit:\n\t\tassert(f)\n\t\tfmt.Println(\"222 quit recv:\", v, ok)\n\n\t}\t\n}"},"codeIds":[{"params":{"id":"array.gos"}},{"params":{"id":"async.gos"}},{"params":{"id":"basictypes.gos"}},{"params":{"id":"blankid.gos"}},{"params":{"id":"bytes.gos"}},{"params":{"id":"case1.gos"}},{"params":{"id":"channel.gos"}},{"params":{"id":"closure1.gos"}},{"params":{"id":"closure2.gos"}},{"params":{"id":"closure3.gos"}},{"params":{"id":"closure4.gos"}},{"params":{"id":"complex.gos"}},{"params":{"id":"composite.gos"}},{"params":{"id":"conversion.gos"}},{"params":{"id":"declare.gos"}},{"params":{"id":"defer.gos"}},{"params":{"id":"display.gos"}},{"params":{"id":"fmt.gos"}},{"params":{"id":"for.gos"}},{"params":{"id":"func1.gos"}},{"params":{"id":"goto.gos"}},{"params":{"id":"if.gos"}},{"params":{"id":"init_func.gos"}},{"params":{"id":"initorder.gos"}},{"params":{"id":"interface1.gos"}},{"params":{"id":"interface2.gos"}},{"params":{"id":"map1.gos"}},{"params":{"id":"math.gos"}},{"params":{"id":"nil.gos"}},{"params":{"id":"operations.gos"}},{"params":{"id":"path.gos"}},{"params":{"id":"pkg.gos"}},{"params":{"id":"pointer.gos"}},{"params":{"id":"recover.gos"}},{"params":{"id":"reflect.gos"}},{"params":{"id":"select.gos"}},{"params":{"id":"slice1.gos"}},{"params":{"id":"sort.gos"}},{"params":{"id":"strconv.gos"}},{"params":{"id":"strings.gos"}},{"params":{"id":"switch.gos"}},{"params":{"id":"sync_mutex.gos"}},{"params":{"id":"sync_rwmutex.gos"}},{"params":{"id":"time.gos"}},{"params":{"id":"type1.gos"}},{"params":{"id":"typeswitch.gos"}}]},"__N_SSG":true}